import{r,j as a}from"./react-vendor-BWgH-LF8.js";import{o as D,p as S,q as m,r as w,s as p,D as x,O as g}from"./radix-ui-Cpu25ogP.js";import{c as n,B as u}from"./index-BfkQ6W-M.js";import{X as I,g as L}from"./icons-C-0WZylU.js";var O=(e=>(e.SINGLE_ELIM="SINGLE_ELIM",e.DOUBLE_ELIM="DOUBLE_ELIM",e.ROUND_ROBIN="ROUND_ROBIN",e.GROUPS_TO_BRACKET="GROUPS_TO_BRACKET",e.SWISS="SWISS",e))(O||{}),b=(e=>(e.SINGLE_ELIM="single_elim",e.DOUBLE_ELIM="double_elim",e))(b||{}),R=(e=>(e.SETS="SETS",e.POINTS="POINTS",e))(R||{});const T=D,_=S,N=r.forwardRef(({className:e,...t},s)=>a.jsx(g,{ref:s,className:n("fixed inset-0 z-50 bg-[var(--color-overlay)] backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));N.displayName=g.displayName;const y=r.forwardRef(({className:e,children:t,...s},o)=>a.jsxs(_,{children:[a.jsx(N,{}),a.jsxs(m,{ref:o,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-md translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl bg-[var(--color-card)] p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",e),...s,children:[t,a.jsxs(w,{className:"absolute right-4 top-4 rounded-full p-1 text-[var(--color-muted)] transition-opacity hover:bg-[var(--color-soft)] hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(I,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y.displayName=m.displayName;const E=({className:e,...t})=>a.jsx("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});E.displayName="DialogHeader";const j=({className:e,...t})=>a.jsx("div",{className:n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});j.displayName="DialogFooter";const h=r.forwardRef(({className:e,...t},s)=>a.jsx(p,{ref:s,className:n("text-lg font-semibold leading-none tracking-tight text-[var(--color-text)]",e),...t}));h.displayName=p.displayName;const v=r.forwardRef(({className:e,...t},s)=>a.jsx(x,{ref:s,className:n("text-sm text-[var(--color-muted)]",e),...t}));v.displayName=x.displayName;const f=[];function C(){const e=r.useRef(Symbol("modal"));return r.useEffect(()=>{const s=e.current;return f.push(s),()=>{const o=f.lastIndexOf(s);o!==-1&&f.splice(o,1)}},[]),{isTopModal:()=>f.at(-1)===e.current}}function M(e){if(!(e instanceof HTMLElement))return!1;if(e.isContentEditable)return!0;const t=e.tagName.toLowerCase();if(t==="textarea"||t==="button"||t==="a")return!0;if(t==="input"){const s=(e.getAttribute("type")??"").toLowerCase();return s==="button"||s==="submit"||s==="reset"}return t==="select"}const k=({open:e,onOpenChange:t,onPrimaryAction:s,primaryActionDisabled:o,children:d})=>{const{isTopModal:l}=C();return r.useEffect(()=>{function c(i){if(!(!l()||i.isComposing)){if(i.key==="Escape"){t(!1);return}if(i.key==="Enter"&&s&&!o){if(M(i.target))return;i.preventDefault(),s()}}}if(e)return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,l,t,s,o]),a.jsx(T,{open:e,onOpenChange:t,children:d})},P=({title:e,message:t,confirmLabel:s,cancelLabel:o,onConfirm:d,onCancel:l})=>a.jsx(k,{open:!0,onOpenChange:c=>{c||l()},onPrimaryAction:d,children:a.jsxs(y,{className:"z-150",children:[a.jsxs(E,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(L,{className:"h-5 w-5 text-[var(--color-accent)] shrink-0"}),a.jsx(h,{children:e})]}),a.jsx(v,{children:t})]}),a.jsxs(j,{children:[a.jsx(u,{variant:"primary-ghost",onClick:l,children:o}),a.jsx(u,{variant:"secondary",onClick:d,children:s})]})]})});export{b as B,P as C,y as D,O as F,R as S,k as a,h as b};
