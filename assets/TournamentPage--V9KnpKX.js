import{r as g,j as t,m as ft,L as V,h as ht}from"./react-vendor-B7IL4Whh.js";import{p as te,F as O,S as T,B as we}from"./ConfirmModal-BrlJkcIw.js";import{u as N,c as F,D as Y,B as ne,a as bt}from"./index-BCWxZffh.js";import{u as gt}from"./usePageTitle-BIIA0U_0.js";import{d as ve,h as re,f as Te,e as Ne,j as se,k as he,l as ae,S as ie,m as _e,n as Ue,o as K,p as qe,q as Ke,r as oe,s as Je,t as jt,u as Ee,i as Se,v as ze,w as yt,x as Ve,y as vt,z as Me}from"./groupStageUtils-BlbfhKxb.js";import{B as Ye}from"./Badge-DHciF8EH.js";import{c as Qe,d as Re,b as Nt,X as St,e as kt,f as It}from"./icons-DoRsKl6D.js";import{h as wt,i as Xe,j as Ze,k as et}from"./radix-ui-BObq5o7x.js";import"./notifications-B5Q4qzS0.js";const tt=g.createContext(null),Tt=({tournamentId:e,children:n})=>{const r=g.useSyncExternalStore(te.subscribe,g.useCallback(()=>te.load(e),[e])),s=g.useCallback(l=>{const i=te.load(e);i&&te.save(l(i))},[e]),a=g.useMemo(()=>({tournament:r,updateTournament:s,isLoading:!1}),[r,s]);return t.jsx(tt.Provider,{value:a,children:n})};function le(){const e=g.useContext(tt);if(!e)throw new Error("useTournament must be used within TournamentProvider");return e}function ke(e){const{tournament:n,updateTournament:r,isLoading:s}=le(),a=n?.format===e?n:null,l=g.useCallback(i=>{r(o=>o.format!==e?o:i(o))},[r,e]);return{tournament:a,updateTournament:l,isLoading:s}}function Et(){const{tournament:e,updateTournament:n,isLoading:r}=le(),s=e?.format===O.GROUPS_TO_BRACKET?e:null,a=g.useCallback(l=>{n(i=>i.format!==O.GROUPS_TO_BRACKET?i:typeof l=="function"?l(i):l)},[n]);return{tournament:s,updateTournament:a,isLoading:r}}const De=({player:e,placement:n,seed:r,isWildCard:s,t:a})=>e?t.jsxs(t.Fragment,{children:[n&&t.jsx("span",{className:"mr-2 text-[10px] font-semibold text-[var(--color-muted)]",children:n}),r&&t.jsx("span",{className:"mr-2 text-[10px] font-semibold text-[var(--color-muted)]",children:r}),e.name,s&&t.jsx(Ye,{variant:"accent",className:"ml-2 text-[10px] px-1.5 py-0.5",children:a("groupStage.wildCardBadge")}),e.elo!=null&&t.jsx("span",{className:"ml-2 font-normal text-[10px] text-[var(--color-muted)]",children:a("players.elo",{elo:e.elo})})]}):null,Mt=({entries:e})=>t.jsx("span",{className:"text-[10px] text-[var(--color-faint)] font-mono whitespace-pre text-right",children:e.map((n,r)=>t.jsxs("span",{className:n.isWin?"font-semibold text-[var(--color-text)]":"",children:[r>0?" ":"",n.text]},r))}),Ce=({showPoints:e,setPointEntries:n,isWalkover:r,sets:s})=>t.jsxs("span",{className:"ml-2 text-[var(--color-muted)] flex items-center gap-2",children:[e&&n.length>0&&t.jsx(Mt,{entries:n}),t.jsx("span",{className:"text-[var(--color-faintest)]",children:"|"}),t.jsx("span",{children:r?"WO":s})]}),Pe=(e,n)=>e?"?":n("bracket.bye"),q=({match:e,players:n,canEdit:r,onClick:s,wildCardIds:a,scoringMode:l=T.SETS,maxSets:i,roundIndex:o,groupPlacementByPlayerId:d,showSeedNumbers:c})=>{const{t:u}=N(),m=n.find(W=>W.id===e.player1Id),x=n.find(W=>W.id===e.player2Id),f=m&&a?.has(m.id),p=x&&a?.has(x.id),h=!e.player1Id||!e.player2Id,b=e.player1Id&&e.player2Id&&r,S=l===T.POINTS,{p1Sets:M,p2Sets:y}=ve(e.scores,{scoringMode:l,maxSets:i}),k=e.walkover||re(e.scores),C=S?Te(e.scores):[],H=S?Te(e.scores,{swapped:!0}):[],P=o===0&&d,B=P&&m?d.get(m.id)??null:null,G=P&&x?d.get(x.id)??null:null,X=c&&o===0,pe=X&&m?.seed!=null?String(m.seed):null,Z=X&&x?.seed!=null?String(x.seed):null;return t.jsxs("div",{onClick:b?s:void 0,className:`border rounded-lg text-xs w-52 overflow-hidden bg-[var(--color-card)] transition-all duration-150 ${b?"cursor-pointer hover:border-[var(--color-primary)] hover:shadow-md hover:-translate-y-px":""} ${h?"opacity-40":"border-[var(--color-border)]"}`,role:b?"button":void 0,tabIndex:b?0:void 0,"aria-disabled":!b,"aria-label":b?u("bracket.editMatch"):void 0,onKeyDown:b?W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),s&&s())}:void 0,children:[t.jsxs("div",{className:`flex items-center justify-between px-2 py-1.5 border-b border-[var(--color-border-soft)] ${e.winnerId===e.player1Id?"bg-[var(--color-soft)] font-semibold border-l-3 border-l-[var(--color-primary)]":""}`,children:[t.jsx("span",{className:"truncate flex-1",children:m?t.jsx(De,{player:m,placement:B,seed:pe,isWildCard:f,t:u}):Pe(e.player1Id,u)}),e.winnerId&&t.jsx(Ce,{showPoints:S,setPointEntries:C,isWalkover:k,sets:M})]}),t.jsxs("div",{className:`flex items-center justify-between px-2 py-1.5 ${e.winnerId===e.player2Id?"bg-[var(--color-soft)] font-semibold border-l-3 border-l-[var(--color-primary)]":""}`,children:[t.jsx("span",{className:"truncate flex-1",children:x?t.jsx(De,{player:x,placement:G,seed:Z,isWildCard:p,t:u}):Pe(e.player2Id,u)}),e.winnerId&&t.jsx(Ce,{showPoints:S,setPointEntries:H,isWalkover:k,sets:y})]})]})},Rt=64,Be=8,Dt=({match:e,roundIndex:n,matchHeight:r,players:s,bracket:a,onEditMatch:l,scoringMode:i,maxSets:o,wildCardIds:d,canEditMatchFn:c,groupPlacementByPlayerId:u,showSeedNumbers:m})=>{if(e.dummy)return t.jsx("div",{className:"flex items-center invisible dummy",style:{height:`${r}px`}},`dummy-${n}-${e.position}`);const x=c?c(a,e.id):Ne(a,e.id);return t.jsx("div",{className:"flex items-center",style:{height:`${r}px`},children:t.jsx(q,{match:e,players:s,canEdit:x,wildCardIds:d,scoringMode:i,maxSets:o,roundIndex:n,groupPlacementByPlayerId:u,showSeedNumbers:m,onClick:()=>l?.(e)})})},Ct=({round:e,roundIndex:n,roundLabel:r,players:s,bracket:a,onEditMatch:l,scoringMode:i,maxSets:o,wildCardIds:d,canEditMatchFn:c,groupPlacementByPlayerId:u,showSeedNumbers:m})=>{const x=Rt*Math.pow(2,n),f=Be*Math.pow(2,n),p=Be/2*(Math.pow(2,n)-1);return t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] mb-3 whitespace-nowrap uppercase tracking-wider",children:r}),t.jsx("div",{className:"flex flex-col",style:{gap:`${f}px`,paddingTop:`${p}px`},children:e.map(h=>t.jsx(Dt,{match:h,roundIndex:n,matchHeight:x,players:s,bracket:a,onEditMatch:l,scoringMode:i,maxSets:o,wildCardIds:d,canEditMatchFn:c,groupPlacementByPlayerId:u,showSeedNumbers:m},h.dummy?`dummy-${n}-${h.position}`:h.id))})]})},J=({bracket:e,players:n,onEditMatch:r,scoringMode:s,maxSets:a,wildCardIds:l,canEditMatchFn:i,groupPlacementByPlayerId:o,showSeedNumbers:d})=>{const{t:c}=N();if(!e)return null;const u=e.rounds.map((m,x)=>{const f=e.rounds.length;return x===f-1?c("bracket.final"):x===f-2?c("bracket.semifinals"):x===f-3?c("bracket.quarterfinals"):c("bracket.round",{n:x+1})});return t.jsx("div",{className:"overflow-x-auto pb-2",children:t.jsx("div",{className:"flex gap-1 items-start min-w-fit",children:e.rounds.map((m,x)=>t.jsx(Ct,{round:m,roundIndex:x,roundLabel:u[x],players:n,bracket:e,onEditMatch:r,scoringMode:s,maxSets:a,wildCardIds:l,canEditMatchFn:i,groupPlacementByPlayerId:o,showSeedNumbers:d},x))})})},ce=({label:e})=>e?t.jsx("div",{className:"mb-6 bg-[var(--color-accent-soft)] border border-[var(--color-accent-border)] rounded-xl p-5 shadow-sm text-center",children:t.jsxs("p",{className:"text-xl font-bold text-[var(--color-accent)] tracking-wide",children:[t.jsx(Qe,{className:"h-6 w-6 inline-block mr-2 text-[var(--color-accent)]"}),e]})}):null,Pt=wt,nt=g.forwardRef(({className:e,...n},r)=>t.jsx(Xe,{ref:r,className:F("inline-flex h-10 items-center justify-start rounded-md bg-muted p-1 text-muted-foreground",e),...n}));nt.displayName=Xe.displayName;const rt=g.forwardRef(({className:e,...n},r)=>t.jsx(Ze,{ref:r,className:F("inline-flex items-center justify-center whitespace-nowrap px-4 py-2.5 text-sm font-medium","border-b-2 border-transparent -mb-px transition-all","disabled:pointer-events-none disabled:opacity-40","data-[state=active]:border-[var(--color-primary)] data-[state=active]:text-[var(--color-primary)]","data-[state=inactive]:text-[var(--color-muted)] data-[state=inactive]:hover:bg-[var(--color-soft)] data-[state=inactive]:hover:rounded-sm hover:text-[var(--color-text)]",e),...n}));rt.displayName=Ze.displayName;const Bt=g.forwardRef(({className:e,...n},r)=>t.jsx(et,{ref:r,className:F("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));Bt.displayName=et.displayName;const Q=({tabs:e,activeId:n,onChange:r,className:s=""})=>{const a=l=>{r(l)};return t.jsx(Pt,{value:n,onValueChange:a,className:s,children:t.jsx(nt,{className:`flex gap-1 mb-4 border-b border-[var(--color-border-soft)] overflow-x-auto overflow-y-hidden bg-transparent h-auto p-0 rounded-none ${s}`.trim(),children:e.map(l=>t.jsx(rt,{value:l.id,className:"flex-shrink-0",children:l.label},l.id))})})},de=g.forwardRef(({className:e,...n},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:F("w-full caption-bottom text-sm",e),...n})}));de.displayName="Table";const ue=g.forwardRef(({className:e,...n},r)=>t.jsx("thead",{ref:r,className:F("[&_tr]:border-b",e),...n}));ue.displayName="TableHeader";const me=g.forwardRef(({className:e,...n},r)=>t.jsx("tbody",{ref:r,className:F("[&_tr:last-child]:border-0",e),...n}));me.displayName="TableBody";const Ft=g.forwardRef(({className:e,...n},r)=>t.jsx("tfoot",{ref:r,className:F("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));Ft.displayName="TableFooter";const A=g.forwardRef(({className:e,...n},r)=>t.jsx("tr",{ref:r,className:F("border-b border-[var(--color-border-soft)] transition-colors hover:bg-[var(--color-soft)] data-[state=selected]:bg-muted",e),...n}));A.displayName="TableRow";const R=g.forwardRef(({className:e,...n},r)=>t.jsx("th",{ref:r,className:F("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));R.displayName="TableHead";const I=g.forwardRef(({className:e,...n},r)=>t.jsx("td",{ref:r,className:F("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));I.displayName="TableCell";const Wt=g.forwardRef(({className:e,...n},r)=>t.jsx("caption",{ref:r,className:F("mt-4 text-sm text-muted-foreground",e),...n}));Wt.displayName="TableCaption";function Lt(e,n){return e==null?"?":e===n||n==null?`${e}.`:`${e}.-${n}.`}function Ht(e){return e===1?"bg-[var(--color-podium-gold)] font-semibold":e===2?"bg-[var(--color-podium-silver)]":e===3?"bg-[var(--color-podium-bronze)]":""}const xe=({results:e})=>{const{t:n}=N();return!e||e.length===0?null:t.jsxs(de,{children:[t.jsx(ue,{children:t.jsxs(A,{className:"border-b-2 border-[var(--color-border)]",children:[t.jsx(R,{className:"py-2.5 pr-3 text-xs uppercase tracking-wider font-semibold text-[var(--color-muted)]",children:n("results.rank")}),t.jsx(R,{className:"py-2.5 pr-3 text-xs uppercase tracking-wider font-semibold text-[var(--color-muted)]",children:n("results.player")})]})}),t.jsx(me,{children:e.map(r=>t.jsxs(A,{className:Ht(r.rankStart),children:[t.jsxs(I,{className:"py-2.5 pr-3 text-[var(--color-faint)] tabular-nums",children:[r.rankStart===1&&t.jsx(Qe,{className:"h-4 w-4 inline-block mr-1 text-yellow-500"}),r.rankStart===2&&t.jsx(Re,{className:"h-4 w-4 inline-block mr-1 text-gray-400"}),r.rankStart===3&&t.jsx(Re,{className:"h-4 w-4 inline-block mr-1 text-amber-600"}),Lt(r.rankStart,r.rankEnd)]}),t.jsx(I,{className:"py-2.5 pr-3 font-medium",children:r.name})]},r.playerId))})]})};function Fe(e,n){const r=(e.setsWon??0)-(e.setsLost??0),s=[e.points??0,r,e.setsWon??0];if(n===T.POINTS){const a=(e.pointsWon??0)-(e.pointsLost??0);s.push(a)}return s.join("|")}function $t(e,n={}){const r=n.scoringMode??T.SETS,s=[];let a=0;for(;a<e.length;){const l=e[a];if(!l)break;const i=Fe(l,r);let o=a+1;for(;o<e.length;){const u=e[o];if(!u||Fe(u,r)!==i)break;o+=1}const d=a+1,c=o;for(let u=a;u<o;u+=1){const m=e[u];m&&s.push({...m,rankStart:d,rankEnd:c})}a=o}return s}function Ot(e,n,r={}){const s=he(e,n,r);return $t(s,r)}function At(e){const n=new Set;if(!e)return n;for(const r of e.rounds)for(const s of r)s.player1Id&&n.add(s.player1Id),s.player2Id&&n.add(s.player2Id);return n}function st(e,n){const r=new Map;let s=n;for(const a of e){if(a.length===0)continue;const l=s-a.length+1,i=s;for(const o of a)r.set(o,{rankStart:l,rankEnd:i});s=l-1}return{rankByPlayer:r}}function Ie(e){return[...e].toSorted((n,r)=>{const s=n.rankStart??Number.POSITIVE_INFINITY,a=r.rankStart??Number.POSITIVE_INFINITY;if(s!==a)return s-a;const l=n.rankEnd??Number.POSITIVE_INFINITY,i=r.rankEnd??Number.POSITIVE_INFINITY;return l!==i?l-i:n.name.localeCompare(r.name)})}function We(e,n){return n?e.map(r=>r.rankStart==null||r.rankEnd==null?r:{...r,rankStart:r.rankStart+n,rankEnd:r.rankEnd+n}):e}function be(e,n){if(!e)return[];const r=new Map(n.map(c=>[c.id,c])),s=[...At(e)],a=[],l=new Set;for(const[c,u]of e.rounds.entries()){const m=[];for(const x of u){if(!x.winnerId||!x.player1Id||!x.player2Id)continue;const f=x.winnerId===x.player1Id?x.player2Id:x.player1Id;l.has(f)||(l.add(f),m.push(f))}a[c]=m}const{rankByPlayer:i}=st(a,s.length),o=se(e);if(o&&i.set(o,{rankStart:1,rankEnd:1}),e.thirdPlaceMatch?.winnerId){const c=e.thirdPlaceMatch,u=c.winnerId===c.player1Id?c.player2Id:c.player1Id;c.winnerId&&i.set(c.winnerId,{rankStart:3,rankEnd:3}),u&&i.set(u,{rankStart:4,rankEnd:4})}const d=s.map(c=>{const u=r.get(c);return{playerId:c,name:u?.name??c,...i.get(c)}});return Ie(d)}function Gt(e){const n=new Set;if(!e)return n;for(const s of e.winners.rounds)for(const a of s)a.player1Id&&n.add(a.player1Id),a.player2Id&&n.add(a.player2Id);for(const s of e.losers.rounds)for(const a of s)a.player1Id&&n.add(a.player1Id),a.player2Id&&n.add(a.player2Id);const r=e.finals;return r.grandFinal.player1Id&&n.add(r.grandFinal.player1Id),r.grandFinal.player2Id&&n.add(r.grandFinal.player2Id),r.resetFinal.player1Id&&n.add(r.resetFinal.player1Id),r.resetFinal.player2Id&&n.add(r.resetFinal.player2Id),n}function ge(e,n){if(!e)return[];const r=new Map(n.map(p=>[p.id,p])),s=[...Gt(e)],a=new Map(s.map(p=>[p,0])),l=new Set,i=e.losers.rounds,o=Array.from({length:i.length+2},()=>[]),d=p=>{if(!p?.winnerId||!p.player1Id||!p.player2Id)return;const h=p.winnerId===p.player1Id?p.player2Id:p.player1Id;a.set(h,(a.get(h)??0)+1)},c=(p,h)=>{if(!p?.winnerId||!p.player1Id||!p.player2Id)return;const b=p.winnerId===p.player1Id?p.player2Id:p.player1Id;if(l.has(b))return;const S=(a.get(b)??0)+1;if(a.set(b,S),S>=2){const M=o[h];M&&M.push(b),l.add(b)}};for(const p of e.winners.rounds)for(const h of p)d(h);for(const[p,h]of i.entries())for(const b of h)c(b,p);const u=i.length;c(e.finals.grandFinal,u),c(e.finals.resetFinal,u+1);const{rankByPlayer:m}=st(o,s.length),x=ae(e);x&&m.set(x,{rankStart:1,rankEnd:1});const f=s.map(p=>{const h=r.get(p);return{playerId:p,name:h?.name??p,...m.get(p)}});return Ie(f)}const _t=()=>{const{tournament:e,updateTournament:n}=ke(O.SINGLE_ELIM),[r,s]=g.useState(null),[a,l]=g.useState("playoff"),{t:i}=N();if(!e)return null;const{bracket:o,players:d}=e,c=e.scoringMode??T.SETS,u=e.maxSets??Y,m=se(o),x=o.thirdPlaceMatch,f=[{id:"playoff",label:i("tabs.playoff")},{id:"results",label:i("tabs.results")}];function p(h,b,S,M=!1){n(y=>{const k=b?_e(structuredClone(y.bracket),h,b,S,M):Ue(structuredClone(y.bracket),h),C=se(k);return{...y,bracket:k,winnerId:C,completedAt:C?new Date().toISOString():null}}),s(null)}return t.jsxs("div",{children:[m&&t.jsx(ce,{label:i("bracket.winner",{name:d.find(h=>h.id===m)?.name??""})}),t.jsx(Q,{tabs:f,activeId:a,onChange:l}),a==="playoff"?t.jsxs(t.Fragment,{children:[t.jsx(J,{bracket:o,players:d,scoringMode:c,maxSets:u,showSeedNumbers:!0,onEditMatch:h=>{s(h)}}),x&&(x.player1Id??x.player2Id)&&t.jsxs("div",{className:"mt-6",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] mb-2",children:i("bracket.thirdPlace")}),t.jsx(q,{match:x,players:d,canEdit:Ne(o,x.id),onClick:()=>{s(x)},scoringMode:c,maxSets:u,roundIndex:o.rounds.length})]}),r&&t.jsx(ie,{match:r,players:d,scoringMode:c,maxSets:u,onSave:p,onClose:()=>{s(null)}})]}):t.jsx(xe,{results:be(o,d)})]})};function Le(e){return e?e.player1Id||e.player2Id||e.winnerId?!0:Array.isArray(e.scores)&&e.scores.length>0:!1}const Ut=()=>{const{tournament:e,updateTournament:n}=ke(O.DOUBLE_ELIM),{t:r}=N(),[s,a]=g.useState(null),[l,i]=g.useState("playoff"),o=e?.doubleElim,d=g.useMemo(()=>e?.players??[],[e?.players]),c=e?.scoringMode??T.SETS,u=e?.maxSets??Y,m=[{id:"playoff",label:r("tabs.playoff")},{id:"results",label:r("tabs.results")}],x=g.useMemo(()=>o?ae(o):null,[o]),f=g.useMemo(()=>x?d.find(y=>y.id===x):null,[d,x]),p=o?.winners.rounds.length??0;function h(y,k,C,H=!1){o&&(n(P=>{const B=k?qe(structuredClone(P.doubleElim),y,k,C,H):Ke(structuredClone(P.doubleElim),y),G=ae(B);return{...P,doubleElim:B,winnerId:G,completedAt:G?new Date().toISOString():null}}),a(null))}if(!e||!o)return null;const b=o.finals,S=Le(b.grandFinal),M=Le(b.resetFinal);return t.jsxs("div",{className:"space-y-8",children:[f&&t.jsx(ce,{label:r("bracket.winner",{name:d.find(y=>y.id===f.id)?.name??""})}),t.jsx(Q,{tabs:m,activeId:l,onChange:i}),l==="playoff"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)]",children:r("doubleElim.winnersBracket")}),t.jsx(J,{bracket:o.winners,players:d,scoringMode:c,maxSets:u,showSeedNumbers:!0,onEditMatch:y=>{a(y)},canEditMatchFn:(y,k)=>K(o,k)})]}),o.losers.rounds.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)]",children:r("doubleElim.losersBracket")}),t.jsx(J,{bracket:o.losers,players:d,scoringMode:c,maxSets:u,showSeedNumbers:!0,onEditMatch:y=>{a(y)},canEditMatchFn:(y,k)=>K(o,k)})]}),(S||M)&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)]",children:r("doubleElim.grandFinal")}),S&&t.jsx(q,{match:b.grandFinal,players:d,canEdit:K(o,b.grandFinal.id),scoringMode:c,maxSets:u,showSeedNumbers:!0,roundIndex:p,onClick:()=>{a(b.grandFinal)}}),M&&t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] mb-2",children:r("doubleElim.resetFinal")}),t.jsx(q,{match:b.resetFinal,players:d,canEdit:K(o,b.resetFinal.id),scoringMode:c,maxSets:u,showSeedNumbers:!0,roundIndex:p,onClick:()=>{a(b.resetFinal)}})]})]}),s&&t.jsx(ie,{match:s,players:d,scoringMode:c,maxSets:u,onSave:h,onClose:()=>{a(null)}})]}):t.jsx(xe,{results:ge(o,d)})]})};function qt(e,n,r,s){const a=n.filter(o=>o==="headToHead"||o==="headToHeadSetDiff"||o==="headToHeadSetsWon"||o==="setDiff"||o==="setsWon"||o==="pointsDiff"),l={headToHead:r("roundRobin.tiebreakH2H"),headToHeadSetDiff:r("roundRobin.tiebreakH2HSetDiff"),headToHeadSetsWon:r("roundRobin.tiebreakH2HSetsWon"),setDiff:r("roundRobin.tiebreakSetDiff"),setsWon:r("roundRobin.tiebreakSetsWon"),pointsDiff:r("roundRobin.tiebreakPointsDiff")},i={headToHead:r("roundRobin.tiebreakH2HHelp"),headToHeadSetDiff:r("roundRobin.tiebreakH2HSetDiffHelp"),headToHeadSetsWon:r("roundRobin.tiebreakH2HSetsWonHelp"),setDiff:r("roundRobin.tiebreakSetDiffHelp"),setsWon:r("roundRobin.tiebreakSetsWonHelp"),pointsDiff:r("roundRobin.tiebreakPointsDiffHelp")};return a.filter(o=>s||o!=="pointsDiff").map(o=>{let d="-";return o==="headToHead"&&(d=String(e.headToHead)),o==="headToHeadSetDiff"&&(d=fe(e.headToHeadSetDiff)),o==="headToHeadSetsWon"&&(d=String(e.headToHeadSetsWon)),o==="setDiff"&&(d=fe(e.setDiff)),o==="setsWon"&&(d=String(e.setsWon)),o==="pointsDiff"&&(d=fe(e.pointsDiff)),{key:o,label:l[o],value:d,help:i[o]}})}function fe(e){const n=e.toFixed(0);return e>0?`+${n}`:n}const Kt=({details:e,applied:n,t:r,showBalls:s})=>{const a=qt(e,n,r,s);return a.length===0?null:t.jsx("table",{className:"w-full text-[0.7rem] text-[var(--color-muted)]",children:t.jsx("tbody",{children:a.map(l=>t.jsxs(A,{className:"border-t border-[var(--color-border-soft)]",children:[t.jsx(I,{className:"py-1 pr-2 font-medium p-0",children:t.jsx("span",{className:"underline decoration-dotted underline-offset-2 cursor-help",title:l.help,children:l.label})}),t.jsx(I,{className:"py-1 text-right p-0",children:l.value})]},l.key))})})},Jt=({isExpanded:e})=>t.jsx("span",{className:"mr-1 inline-flex h-3 w-3 items-center justify-center text-[var(--color-muted)]","aria-hidden":"true",children:t.jsx("svg",{viewBox:"0 0 20 20",className:`h-3 w-3 transition-transform ${e?"rotate-90":"rotate-0"}`,fill:"currentColor",children:t.jsx("path",{d:"M7.5 5.5 12.5 10 7.5 14.5"})})}),zt=({name:e,isWildCard:n,elo:r,t:s})=>t.jsx(I,{className:"py-2.5 pr-3 font-medium",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx("span",{children:e}),n&&t.jsx(Ye,{variant:"accent",className:"text-[10px] px-1.5 py-0.5",children:s("groupStage.wildCardBadge")}),r!=null&&t.jsx("span",{className:"text-xs font-normal text-[var(--color-muted)]",children:s("players.elo",{elo:r})})]})}),Vt=({tiebreakDetails:e,rowClass:n,colSpan:r,t:s,showBalls:a})=>t.jsx(A,{className:n,children:t.jsx(I,{className:"px-2",colSpan:r,children:t.jsx(Kt,{details:e,applied:e.tiebreakApplied,t:s,showBalls:a})})}),Yt=({row:e,rank:n,isDirectQualifier:r,isWildCard:s,hasTiebreak:a,isExpanded:l,showBalls:i,onToggleExpand:o,t:d})=>{let c="";r?c="bg-[var(--color-soft)]":s&&(c="bg-[var(--color-accent-soft)]");const u=x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),o())},m=i?8:7;return t.jsxs(g.Fragment,{children:[t.jsxs(A,{className:`transition-colors ${c} ${a?"cursor-pointer":""}`,onClick:a?o:void 0,onKeyDown:a?u:void 0,role:a?"button":void 0,tabIndex:a?0:void 0,"aria-expanded":a?l:void 0,children:[t.jsxs(I,{className:"py-2.5 pr-3 text-[var(--color-faint)] tabular-nums",children:[a&&t.jsx(Jt,{isExpanded:l}),n]}),t.jsx(zt,{name:e.name,isWildCard:s,elo:e.elo,t:d}),t.jsx(I,{className:"py-2.5 pr-3 text-center tabular-nums",children:e.played}),t.jsx(I,{className:"py-2.5 pr-3 text-center tabular-nums",children:e.wins}),t.jsx(I,{className:"py-2.5 pr-3 text-center tabular-nums",children:e.losses}),t.jsxs(I,{className:"py-2.5 pr-3 text-center tabular-nums",children:[e.setsWon,"-",e.setsLost]}),i&&t.jsxs(I,{className:"py-2.5 pr-3 text-center tabular-nums",children:[e.pointsWon,"-",e.pointsLost]}),t.jsx(I,{className:"py-2.5 text-center font-semibold tabular-nums",children:e.points})]}),l&&e.tiebreakDetails&&t.jsx(Vt,{tiebreakDetails:e.tiebreakDetails,rowClass:c,colSpan:m,t:d,showBalls:i})]})},at=({standings:e,highlightCount:n=0,wildCardIds:r,scoringMode:s=T.SETS})=>{const{t:a}=N(),[l,i]=g.useState(null),o=Math.max(0,Number.parseInt(String(n),10)||0),d=e.length===1&&o>0,c=s===T.POINTS;return t.jsxs(de,{children:[t.jsx(ue,{children:t.jsxs(A,{className:"border-b-2 border-[var(--color-border)]",children:[t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.rank")}),t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.player")}),t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-center text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.played")}),t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-center text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.wins")}),t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-center text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.losses")}),t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-center text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.sets")}),c&&t.jsx(R,{className:"py-2.5 pr-2 sm:pr-3 text-center text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.balls")}),t.jsx(R,{className:"py-2.5 text-center text-xs uppercase tracking-wider font-semibold whitespace-nowrap text-[var(--color-muted)]",children:a("standings.points")})]})}),t.jsx(me,{children:e.map((u,m)=>{const x=(u.played>0||d)&&(m===0||o>0&&m<o),f=r?.has(u.playerId)??!1,p=u.tiebreakDetails!=null&&u.tiebreakDetails.tiebreakApplied.length>0,h=l===u.playerId,b=()=>{i(S=>S===u.playerId?null:u.playerId)};return t.jsx(Yt,{row:u,rank:m+1,isDirectQualifier:x,isWildCard:f,hasTiebreak:p,isExpanded:h,showBalls:c,onToggleExpand:b,t:a},u.playerId)})})]})};function Qt(e,n,r){const s=[n,r].toSorted((a,l)=>a.localeCompare(l)).join("|");return e.get(s)}function Xt(e,n){return e.filter(r=>Array.isArray(r)).map(r=>{const s=r[0],a=r[1];if(oe(s)||oe(a)){const o=Je(s,a);return o===0?null:{text:"WO",isWin:n?o===2:o===1}}const l=n?a:s,i=n?s:a;return!Number.isFinite(l)||!Number.isFinite(i)?null:{text:`${l}-${i}`,isWin:l>i}}).filter(r=>r!=null)}const Zt=({players:e})=>t.jsx(ue,{children:t.jsxs(A,{className:"border-b-0 hover:bg-transparent",children:[t.jsx(R,{className:"py-2 pr-3 sticky left-0 z-10"}),e.map(n=>t.jsx(R,{className:"py-2 pr-3 text-left font-medium text-[var(--color-text)] sticky left-0 z-10 whitespace-nowrap",children:n.name},n.id))]})}),en=({rowPlayer:e,colPlayer:n,match:r,showPoints:s,scoringMode:a,maxSets:l})=>{if(e.id===n.id)return t.jsx(I,{className:"py-2 px-2 text-center bg-[var(--color-soft)] text-[var(--color-faint)]",children:"-"});if(!r||r.scores.length===0){if(r?.walkover||re(r?.scores??[])){const f=r?.winnerId===e.id;return t.jsx(I,{className:`py-2 px-2 text-center ${f?"font-semibold":"text-[var(--color-muted)]"}`,children:t.jsx("div",{className:"font-mono text-xs",children:"WO"})})}return t.jsx(I,{className:"py-2 px-2 text-center text-[var(--color-faintest)]",children:"-"})}const i=r.player1Id!==e.id,{p1Sets:o,p2Sets:d}=ve(r.scores,{scoringMode:a,maxSets:l}),c=i?`${d}-${o}`:`${o}-${d}`,u=r.walkover||re(r.scores);let m;r.winnerId?m=r.winnerId===e.id:i?m=d>o:m=o>d;const x=s?Xt(r.scores,i):[];return t.jsxs(I,{className:"py-2 px-2 text-center",children:[t.jsx("div",{className:`font-mono text-xs ${m?"font-semibold":"text-[var(--color-text)]"}`,children:u?c+" WO":c}),s&&x.length>0&&t.jsx("div",{className:"text-[10px] text-[var(--color-faint)]",children:x.map((f,p)=>t.jsxs("span",{className:f.isWin?"font-semibold":"",children:[p>0?", ":"",f.text]},`set-${p}`))})]})},tn=({rowPlayer:e,players:n,matchIndex:r,showPoints:s,scoringMode:a,maxSets:l})=>t.jsxs(A,{children:[t.jsx(R,{className:"py-2 pr-3 text-left font-medium text-[var(--color-text)] sticky left-0 z-10 whitespace-nowrap",children:e.name}),n.map(i=>{const o=Qt(r,e.id,i.id);return t.jsx(en,{rowPlayer:e,colPlayer:i,match:o,showPoints:s,scoringMode:a,maxSets:l},i.id)})]}),ot=({players:e,schedule:n,scoringMode:r=T.SETS,maxSets:s})=>{const a=r===T.POINTS,l=g.useMemo(()=>{const i=new Map;for(const o of n.rounds)for(const d of o.matches){const c=[d.player1Id,d.player2Id].toSorted((u,m)=>u===null&&m===null?0:u===null?1:m===null?-1:u.localeCompare(m)).join("|");i.set(c,d)}return i},[n]);return t.jsxs(de,{className:"border-separate border-spacing-0",children:[t.jsx(Zt,{players:e}),t.jsx(me,{children:e.map(i=>t.jsx(tn,{rowPlayer:i,players:e,matchIndex:l,showPoints:a,scoringMode:r,maxSets:s},i.id))})]})},nn=({match:e,players:n,onEdit:r,scoringMode:s=T.SETS,maxSets:a})=>{const{t:l}=N(),i=n.find(p=>p.id===e.player1Id),o=n.find(p=>p.id===e.player2Id),d=s===T.POINTS,{p1Sets:c,p2Sets:u}=ve(e.scores,{scoringMode:s,maxSets:a}),m=e.walkover||re(e.scores),x=d?jt(e.scores):"",f=d?e.scores.filter(p=>Array.isArray(p)).map(p=>rn(p,e)).filter(p=>p!=null):[];return t.jsxs("div",{onClick:()=>{r(e)},className:"flex items-center gap-3 border border-[var(--color-border)] bg-[var(--color-card)] rounded-lg px-3 py-2.5 cursor-pointer hover:border-[var(--color-primary)] hover:shadow-md hover:-translate-y-px transition-all duration-150 text-sm",role:"button",tabIndex:0,"aria-label":l("bracket.editMatch"),onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),r(e))},children:[t.jsx("span",{className:`flex-1 text-right min-w-0 truncate text-xs sm:text-sm ${e.winnerId===e.player1Id?"font-semibold text-[var(--color-primary-dark)]":""}`,children:i?t.jsxs(t.Fragment,{children:[i.name,i.elo!=null&&t.jsx("span",{className:"ml-2 text-xs font-normal text-[var(--color-muted)]",children:l("players.elo",{elo:i.elo})})]}):null}),e.winnerId?t.jsxs("div",{className:"text-center min-w-[3rem]",children:[t.jsx("div",{className:"text-[var(--color-muted)] font-mono text-xs px-2 py-0.5 rounded bg-[var(--color-soft)]",children:m?"WO":`${c} - ${u}`}),d&&x&&t.jsx("div",{className:"text-[10px] text-[var(--color-faint)]",children:f.map((p,h)=>t.jsxs("span",{className:p.isWinnerSet?"font-semibold text-[var(--color-text)]":"",children:[h>0?", ":"",p.text]},`set-${h}`))})]}):t.jsx("span",{className:"text-[var(--color-faintest)] text-xs min-w-[3rem] text-center",children:l("score.vs")}),t.jsx("span",{className:`flex-1 min-w-0 truncate text-xs sm:text-sm ${e.winnerId===e.player2Id?"font-semibold text-[var(--color-primary-dark)]":""}`,children:o?t.jsxs(t.Fragment,{children:[o.name,o.elo!=null&&t.jsx("span",{className:"ml-2 text-xs font-normal text-[var(--color-muted)]",children:l("players.elo",{elo:o.elo})})]}):null})]})};function rn(e,n){const[r,s]=e;if(oe(r)||oe(s)){const d=Je(r,s);if(d===0)return{text:"WO",isWinnerSet:!1};const c=d===1?n.player1Id:n.player2Id;return{text:"WO",isWinnerSet:n.winnerId!=null&&n.winnerId===c}}const a=r,l=s;if(!Number.isFinite(a)||!Number.isFinite(l))return null;let i=0;a>l?i=1:l>a&&(i=2);let o=!1;return i===1?o=n.winnerId===n.player1Id:i===2&&(o=n.winnerId===n.player2Id),{text:`${a}-${l}`,isWinnerSet:o}}const it=({schedule:e,players:n,onEditMatch:r,scoringMode:s=T.SETS,maxSets:a})=>{const{t:l}=N();return t.jsx("div",{className:"space-y-6",children:e.rounds.map(i=>{const o=i.byePlayerId?n.find(d=>d.id===i.byePlayerId):null;return t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-semibold text-[var(--color-muted)] mb-2",children:[l("roundRobin.round",{n:i.roundNumber}),o&&t.jsx("span",{className:"text-[var(--color-faint)] font-normal ml-2",children:l("roundRobin.bye",{name:o.elo==null?o.name:`${o.name} (${l("players.elo",{elo:o.elo})})`})})]}),t.jsx("div",{className:"space-y-2",children:i.matches.map(d=>t.jsx(nn,{match:d,players:n,onEdit:r,scoringMode:s,maxSets:a},d.id))})]},i.roundNumber)})})},sn=()=>{const{tournament:e,updateTournament:n}=ke(O.ROUND_ROBIN),[r,s]=g.useState("standings"),[a,l]=g.useState(null),{t:i}=N();if(!e)return null;const{schedule:o,players:d}=e,c=e.scoringMode??T.SETS,u=e.maxSets??Y,m=he(o,d,{scoringMode:c,maxSets:u}),x=Ee(o),f=[{id:"standings",label:i("roundRobin.standings")},{id:"matrix",label:i("roundRobin.matrix")},{id:"schedule",label:i("roundRobin.schedule")},{id:"results",label:i("roundRobin.results")}];function p(h,b,S,M=!1){n(y=>{const k=structuredClone(y.schedule);for(const P of k.rounds){const B=P.matches.find(G=>G.id===h);if(B){B.winnerId=b,B.scores=S,B.walkover=M;break}}const C=Ee(k),H=C?he(k,y.players,{scoringMode:c,maxSets:u}):null;return{...y,schedule:k,winnerId:C?H?.[0]?.playerId??null:null,completedAt:C?new Date().toISOString():null}}),l(null)}return t.jsxs("div",{children:[x&&t.jsx(ce,{label:i("roundRobin.winner",{name:m[0]?.name??""})}),t.jsx(Q,{tabs:f,activeId:r,onChange:s}),r==="schedule"?t.jsx(it,{schedule:o,players:d,onEditMatch:l,scoringMode:c,maxSets:u}):t.jsxs(t.Fragment,{children:[r==="standings"&&t.jsx(at,{standings:m,scoringMode:c}),r==="matrix"&&t.jsx("div",{className:"mt-6",children:t.jsx(ot,{schedule:o,players:d,scoringMode:c,maxSets:u})}),r!=="standings"&&r!=="matrix"&&t.jsx("div",{className:"mt-6",children:t.jsx(xe,{results:Ot(o,d,{scoringMode:c})})})]}),a&&t.jsx(ie,{match:a,players:d,scoringMode:c,maxSets:u,onSave:p,onClose:()=>{l(null)}})]})},an=()=>{const{tournament:e,updateTournament:n}=le(),{t:r}=N(),[s,a]=g.useState(null),[l,i]=g.useState(""),[o,d]=g.useState("");if(!e)return t.jsx("div",{className:"mb-6"});const{players:c}=e;function u(f){a(f.id),i(f.name),d("")}function m(){a(null),i(""),d("")}function x(f){const p=l.trim();if(!p){d(r("tournament.nameEmpty"));return}if(c.some(h=>h.id!==f&&h.name.toLowerCase()===p.toLowerCase())){d(r("tournament.nameDuplicate"));return}n(h=>({...h,players:h.players.map(b=>b.id===f?{...b,name:p}:b)})),a(null),i(""),d("")}return t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-[var(--color-muted)] mb-2",children:[r("tournament.playersList")," (",c.length,")"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(f=>t.jsx("div",{children:s===f.id?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("input",{type:"text",id:`edit-player-${f.id}`,"aria-label":r("tournament.editName"),value:l,onChange:p=>{i(p.target.value),d("")},onKeyDown:p=>{p.key==="Enter"&&x(f.id),p.key==="Escape"&&m()},className:`border rounded px-2 py-1 text-sm w-32 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] bg-[var(--color-card)] ${o?"border-[var(--color-accent-border)]":"border-[var(--color-border)]"}`}),t.jsx("button",{onClick:()=>{x(f.id)},className:"text-[var(--color-primary)] hover:text-[var(--color-primary-dark)] text-sm px-1",title:r("tournament.saveName"),children:t.jsx(Nt,{className:"h-3.5 w-3.5"})}),t.jsx("button",{onClick:m,className:"text-[var(--color-faint)] hover:text-[var(--color-muted)] text-sm px-1",title:r("tournament.cancelEdit"),children:t.jsx(St,{className:"h-3.5 w-3.5"})})]}):t.jsxs("button",{type:"button",onClick:()=>{u(f)},className:"inline-flex items-center gap-2 bg-[var(--color-soft)] border border-[var(--color-border)] rounded-full px-3 py-1 text-sm text-[var(--color-text)] cursor-pointer hover:bg-[var(--color-soft)] hover:border-[var(--color-primary)] transition-colors",title:r("tournament.editName"),"aria-label":r("tournament.editName"),children:[t.jsx("span",{className:"truncate",children:f.name}),f.elo!=null&&t.jsx("span",{className:"text-xs font-normal text-[var(--color-muted)]",children:r("players.elo",{elo:f.elo})})]})},f.id))}),o&&t.jsx("p",{className:"text-[var(--color-accent)] text-xs mt-1",children:o})]})},lt=({player:e,groupLabel:n,tagType:r})=>{const{t:s}=N(),a={qualifier:"bg-[var(--color-soft)] text-[var(--color-primary-dark)]",lucky:"bg-[var(--color-accent-soft)] text-[var(--color-accent)]"},l={qualifier:s("groupStage.advancerQualifierTag"),lucky:s("groupStage.advancerLuckyTag")};return t.jsxs("li",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-[var(--color-text)]",children:e.name}),t.jsx("div",{className:"text-xs text-[var(--color-muted)]",children:s("groupStage.advancerGroupRank",{group:n,rank:e.groupRank})})]}),t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${a[r]}`,children:l[r]})]})},on=({qualifiers:e,groupLabelById:n})=>{const{t:r}=N();return t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide",children:r("groupStage.qualifiersTitle")}),t.jsx("ul",{className:"space-y-2",children:e.map(s=>t.jsx(lt,{player:s,groupLabel:n.get(s.groupId)??s.groupId,tagType:"qualifier"},s.id))})]})},ln=({luckyLosers:e,hasLucky:n,groupLabelById:r})=>{const{t:s}=N();return t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide",children:s("groupStage.luckyLosersTitle")}),n?t.jsx("ul",{className:"space-y-2",children:e.map(a=>t.jsx(lt,{player:a,groupLabel:r.get(a.groupId)??a.groupId,tagType:"lucky"},a.id))}):t.jsx("div",{className:"text-xs text-[var(--color-muted)]",children:s("groupStage.luckyLosersNone")})]})};function cn(e){return Number.isFinite(e)?`${(e*100).toFixed(1)}%`:"0%"}function je(e){return Number.isFinite(e)?e.toFixed(2):"0.00"}function He(e){const n=je(e);return e>0?`+${n}`:n}function dn(e,n,r){const s=e.tiebreakDetails,a=Array.isArray(e.tiebreakApplied)?e.tiebreakApplied.filter(o=>o==="setsWonPerMatch"||o==="setDiffPerMatch"||o==="pointsDiffPerMatch"||o==="opponentAvgRank"||o==="relativeRank"||o==="fairPlay"||o==="lottery"):[],l={setsWonPerMatch:n("groupStage.luckyCriteriaSetsWon"),setDiffPerMatch:n("groupStage.luckyCriteriaSetDiff"),pointsDiffPerMatch:n("groupStage.luckyCriteriaPointsDiff"),opponentAvgRank:n("groupStage.luckyCriteriaOpponentRank"),relativeRank:n("groupStage.luckyCriteriaRelativeRank"),fairPlay:n("groupStage.luckyCriteriaFairPlay"),lottery:n("groupStage.luckyCriteriaLottery")},i={setsWonPerMatch:n("groupStage.luckyCriteriaSetsWonHelp"),setDiffPerMatch:n("groupStage.luckyCriteriaSetDiffHelp"),pointsDiffPerMatch:n("groupStage.luckyCriteriaPointsDiffHelp"),opponentAvgRank:n("groupStage.luckyCriteriaOpponentRankHelp"),relativeRank:n("groupStage.luckyCriteriaRelativeRankHelp"),fairPlay:n("groupStage.luckyCriteriaFairPlayHelp"),lottery:n("groupStage.luckyCriteriaLotteryHelp")};return a.filter(o=>r||o!=="pointsDiffPerMatch").map(o=>{let d="-";return o==="setsWonPerMatch"&&(d=je(s.setsWonPerMatch)),o==="setDiffPerMatch"&&(d=He(s.setDiffPerMatch)),o==="pointsDiffPerMatch"&&(d=He(s.pointsDiffPerMatch)),o==="opponentAvgRank"&&(d=je(s.opponentAvgRank)),o==="relativeRank"&&(d=cn(s.relativeRank)),o==="fairPlay"&&(d=s.fairPlay?n("groupStage.luckyCriteriaYes"):n("groupStage.luckyCriteriaNo")),o==="lottery"&&(d=n("groupStage.luckyCriteriaApplied")),{key:o,label:l[o],value:d,help:i[o]}})}const un=({player:e,showBalls:n})=>{const{t:r}=N(),s=dn(e,r,n);return s.length===0?null:t.jsx("table",{className:"w-full text-[0.7rem] text-[var(--color-muted)]",children:t.jsx("tbody",{children:s.map(a=>t.jsxs("tr",{className:"border-t border-[var(--color-border-soft)]",children:[t.jsx("td",{className:"py-1 pr-2 font-medium",children:t.jsx("span",{className:"underline decoration-dotted underline-offset-2 cursor-help",title:a.help,children:a.label})}),t.jsx("td",{className:"py-1 text-right",children:a.value})]},a.key))})})},mn=({player:e,index:n,groupLabel:r,isLucky:s,showBalls:a,isExpanded:l,onToggle:i})=>{const{t:o}=N(),d=e.stats,c=s?"bg-[var(--color-accent-soft)]":"",u=a?9:8;return t.jsxs(g.Fragment,{children:[t.jsxs("tr",{className:`border-b border-[var(--color-border-soft)] ${c} cursor-pointer`,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i())},role:"button",tabIndex:0,"aria-expanded":l,children:[t.jsxs("td",{className:"py-2 pr-2 text-[var(--color-faint)]",children:[t.jsx("span",{className:"mr-1 inline-flex h-3 w-3 items-center justify-center text-[var(--color-muted)]","aria-hidden":"true",children:t.jsx("svg",{viewBox:"0 0 20 20",className:`h-3 w-3 transition-transform ${l?"rotate-90":"rotate-0"}`,fill:"currentColor",children:t.jsx("path",{d:"M7.5 5.5 12.5 10 7.5 14.5"})})}),n+1]}),t.jsx("td",{className:"py-2 pr-2 font-medium text-[var(--color-text)]",children:e.name}),t.jsx("td",{className:"py-2 pr-2 text-[var(--color-muted)]",children:o("groupStage.advancerGroupRank",{group:r,rank:e.groupRank})}),t.jsx("td",{className:"py-2 pr-2 text-center",children:d.played??0}),t.jsx("td",{className:"py-2 pr-2 text-center",children:d.wins??0}),t.jsx("td",{className:"py-2 pr-2 text-center",children:d.losses??0}),t.jsxs("td",{className:"py-2 pr-2 text-center",children:[d.setsWon??0,"-",d.setsLost??0]}),a&&t.jsxs("td",{className:"py-2 pr-2 text-center",children:[d.pointsWon??0,"-",d.pointsLost??0]}),t.jsx("td",{className:"py-2 text-center font-semibold",children:d.points??0})]}),l&&t.jsx("tr",{className:`border-b border-[var(--color-border-soft)] ${c}`,children:t.jsx("td",{className:"px-2",colSpan:u,children:t.jsx(un,{player:e,showBalls:a})})})]})},xn=({candidates:e,luckyIdSet:n,groupLabelById:r,showBalls:s,expandedId:a,onToggleExpand:l})=>{const{t:i}=N();return t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide",children:i("groupStage.luckyCandidatesTitle")}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--color-border-soft)] text-left text-[var(--color-muted)]",children:[t.jsx("th",{className:"py-2 pr-2",children:i("standings.rank")}),t.jsx("th",{className:"py-2 pr-2",children:i("standings.player")}),t.jsx("th",{className:"py-2 pr-2",children:i("standings.group")}),t.jsx("th",{className:"py-2 pr-2 text-center",children:i("standings.played")}),t.jsx("th",{className:"py-2 pr-2 text-center",children:i("standings.wins")}),t.jsx("th",{className:"py-2 pr-2 text-center",children:i("standings.losses")}),t.jsx("th",{className:"py-2 pr-2 text-center",children:i("standings.sets")}),s&&t.jsx("th",{className:"py-2 pr-2 text-center",children:i("standings.balls")}),t.jsx("th",{className:"py-2 text-center",children:i("standings.points")})]})}),t.jsx("tbody",{children:e.map((o,d)=>t.jsx(mn,{player:o,index:d,groupLabel:r.get(o.groupId)??o.groupId,isLucky:n.has(o.id),showBalls:s,isExpanded:a===o.id,onToggle:()=>{l(o.id)}},o.id))})]})})]})},pn=({qualifiers:e,luckyLosers:n,luckyCandidates:r=[],groups:s,bracketTargetSize:a,scoringMode:l=T.SETS})=>{const{t:i}=N(),[o,d]=g.useState(null),c=g.useMemo(()=>{const h=new Map;for(const[b,S]of s.entries())h.set(S.id,i("groupStage.groupTitle",{label:Se(b)}));return h},[s,i]),u=g.useMemo(()=>new Set(n.map(h=>h.id)),[n]),m=l===T.POINTS,x=n.length>0,f=r.length>0;if(e.length===0&&!x)return null;const p=h=>{d(b=>b===h?null:h)};return t.jsxs("div",{className:"border border-[var(--color-border)] rounded-xl p-4 space-y-4 bg-[var(--color-card)]",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)]",children:i("groupStage.advancersTitle")}),x&&t.jsx("div",{className:"text-xs text-[var(--color-muted)]",children:i("groupStage.luckyLoserNote",{target:a})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsx(on,{qualifiers:e,groupLabelById:c}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ln,{luckyLosers:n,hasLucky:x,groupLabelById:c}),x&&f&&t.jsx(xn,{candidates:r,luckyIdSet:u,groupLabelById:c,showBalls:m,expandedId:o,onToggleExpand:p})]})]})]})},fn=({group:e,groupIndex:n,groupPlayers:r,standings:s,qualifierCount:a,wildCardIds:l,activeTab:i,onTabChange:o,onEditMatch:d,scoringMode:c,maxSets:u})=>{const{t:m}=N(),x=[{id:"standings",label:m("roundRobin.standings")},{id:"results",label:m("roundRobin.matrix")},{id:"schedule",label:m("roundRobin.schedule")}];return t.jsxs("div",{className:"border border-[var(--color-border)] rounded-xl p-4 bg-[var(--color-card)]",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)] mb-4",children:m("groupStage.groupTitle",{label:Se(n)})}),t.jsx(Q,{tabs:x,activeId:i,onChange:o}),i==="schedule"&&t.jsx(it,{schedule:e.schedule,players:r,onEditMatch:d,scoringMode:c,maxSets:u}),i==="standings"&&t.jsx(at,{standings:s,highlightCount:a,wildCardIds:l,scoringMode:c}),i==="results"&&t.jsx(ot,{schedule:e.schedule,players:r,scoringMode:c,maxSets:u})]})},hn=({groupStage:e,players:n,standingsByGroup:r,wildCardIds:s,groupTabs:a,onGroupTabChange:l,onEditMatch:i,scoringMode:o,maxSets:d})=>t.jsx("div",{className:"space-y-6",children:e.groups.map((c,u)=>{const m=ze(c,n),x=r.find(h=>h.groupId===c.id)?.standings,f=e.settings.qualifiers[u]??0,p=a[c.id]??"standings";return t.jsx(fn,{group:c,groupIndex:u,groupPlayers:m,standings:x??[],qualifierCount:f,wildCardIds:s,activeTab:p,onTabChange:h=>{l(c.id,h)},onEditMatch:h=>{i(c.id,h.id)},scoringMode:o,maxSets:d},c.id)})}),$e=({title:e,bracket:n,players:r,onEditMatch:s,wildCardIds:a,scoringMode:l,maxSets:i,groupPlacementByPlayerId:o})=>{const{t:d}=N();if(!n)return null;const c=n.thirdPlaceMatch??null,u=n.rounds.length;return t.jsxs("div",{className:"border border-[var(--color-border)] rounded-xl p-4 space-y-4",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)]",children:e}),t.jsx(J,{bracket:n,players:r,wildCardIds:a,scoringMode:l,maxSets:i,groupPlacementByPlayerId:o,onEditMatch:s}),c&&(c.player1Id??c.player2Id)&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)] mb-2",children:d("bracket.thirdPlace")}),t.jsx(q,{match:c,players:r,wildCardIds:a,canEdit:Ne(n,c.id),onClick:()=>{s(c)},scoringMode:l,maxSets:i,roundIndex:u})]})]})},Oe=({title:e,doubleElim:n,players:r,onEditMatch:s,wildCardIds:a,scoringMode:l,maxSets:i,groupPlacementByPlayerId:o})=>{const{t:d}=N();return n?t.jsxs("div",{className:"border border-[var(--color-border)] rounded-xl p-4 space-y-4",children:[t.jsx("div",{className:"text-sm font-semibold text-[var(--color-muted)]",children:e}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)]",children:d("doubleElim.winnersBracket")}),t.jsx(J,{bracket:n.winners,players:r,wildCardIds:a,scoringMode:l,maxSets:i,groupPlacementByPlayerId:o,onEditMatch:c=>{s(c.id)}})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)]",children:d("doubleElim.losersBracket")}),t.jsx(J,{bracket:n.losers,players:r,wildCardIds:a,scoringMode:l,maxSets:i,groupPlacementByPlayerId:o,onEditMatch:c=>{s(c.id)}})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs font-semibold text-[var(--color-muted)]",children:d("doubleElim.finals")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.jsx(q,{match:n.finals.grandFinal,players:r,wildCardIds:a,canEdit:K(n,n.finals.grandFinal.id),onClick:()=>{s(n.finals.grandFinal.id)},scoringMode:l,maxSets:i,roundIndex:n.winners.rounds.length}),n.finals.resetFinal.player1Id&&n.finals.resetFinal.player2Id&&t.jsx(q,{match:n.finals.resetFinal,players:r,wildCardIds:a,canEdit:K(n,n.finals.resetFinal.id),onClick:()=>{s(n.finals.resetFinal.id)},scoringMode:l,maxSets:i,roundIndex:n.winners.rounds.length+1})]})]})]}):null},bn=({playoffs:e,isDoubleElim:n,players:r,wildCardIds:s,groupPlacementByPlayerId:a,scoringMode:l,maxSets:i,onEditMainBracketMatch:o,onEditConsolationBracketMatch:d,onEditMainDoubleElimMatch:c,onEditConsolationDoubleElimMatch:u})=>{const{t:m}=N();if(!e)return null;const x=!n&&e.mainBracket,f=n&&e.mainDoubleElim,p=!n&&e.consolationBracket,h=n&&e.consolationDoubleElim;return!x&&!f?null:t.jsxs(t.Fragment,{children:[x&&t.jsx($e,{title:m("groupStage.mainBracket"),bracket:e.mainBracket,players:r,wildCardIds:s,scoringMode:l,maxSets:i,groupPlacementByPlayerId:a,onEditMatch:o}),f&&t.jsx(Oe,{title:m("groupStage.mainBracket"),doubleElim:e.mainDoubleElim,players:r,wildCardIds:s,scoringMode:l,maxSets:i,groupPlacementByPlayerId:a,onEditMatch:c}),p&&t.jsx($e,{title:m("groupStage.consolationBracket"),bracket:e.consolationBracket,players:r,wildCardIds:s,scoringMode:l,maxSets:i,groupPlacementByPlayerId:a,onEditMatch:d}),h&&t.jsx(Oe,{title:m("groupStage.consolationBracket"),doubleElim:e.consolationDoubleElim,players:r,wildCardIds:s,scoringMode:l,maxSets:i,groupPlacementByPlayerId:a,onEditMatch:u})]})},gn=({editing:e,activeMatch:n,activePlayers:r,scoringMode:s,groupStageMaxSets:a,bracketMaxSets:l,onSave:i,onClose:o})=>{if(!n||!e)return null;const d=e.type==="group"?a:l;return t.jsx(ie,{match:n,players:r,scoringMode:s,maxSets:d,onSave:i,onClose:o})};function jn(e,n,r){const s=e.groups.find(a=>a.id===n);if(!s)return null;for(const a of s.schedule.rounds){const l=a.matches.find(i=>i.id===r);if(l)return l}return null}function yn(e,n){if(!e)return null;if(e.thirdPlaceMatch?.id===n)return e.thirdPlaceMatch;for(const r of e.rounds){const s=r.find(a=>a.id===n);if(s)return s}return null}function vn(e,n){if(!e)return null;for(const r of e.winners.rounds){const s=r.find(a=>a.id===n);if(s)return s}for(const r of e.losers.rounds){const s=r.find(a=>a.id===n);if(s)return s}return e.finals.grandFinal.id===n?e.finals.grandFinal:e.finals.resetFinal.id===n?e.finals.resetFinal:null}function Nn(e,n,r,s){return g.useMemo(()=>e?yt(e,n,{scoringMode:r,maxSets:s}):[],[e,n,r,s])}function Sn(e){return g.useMemo(()=>e?Ve(e):!1,[e])}function kn(e,n,r,s,a){return g.useMemo(()=>!e||!n?null:vt(n,r,{scoringMode:s,maxSets:a}),[e,n,r,s,a])}function In(e){return g.useMemo(()=>e?new Set(e.luckyLosers.map(n=>n.id)):null,[e])}function wn(e,n){return g.useMemo(()=>{if(!e||!n)return null;const r=new Map(n.groups.map((l,i)=>[l.id,Se(i)])),s=new Map,a=l=>{const i=r.get(l.groupId);!i||!l.groupRank||s.set(l.id,`${i}${l.groupRank}`)};for(const l of e.main)a(l);for(const l of e.luckyLosers)a(l);for(const l of e.consolation)a(l);return s},[e,n])}function ye(e){return e?e.rounds.some(n=>n.some(r=>r.scores.length>0||r.winnerId)):!1}function Ae(e){return e?!!(ye(e.winners)||e.losers.rounds.some(n=>n.some(r=>r.scores.length>0||r.winnerId))||e.finals.grandFinal.winnerId||e.finals.resetFinal.winnerId):!1}function Tn(e,n){return e===n?!0:!e||!n?!1:e.bracketType===n.bracketType&&JSON.stringify(e.mainBracket)===JSON.stringify(n.mainBracket)&&JSON.stringify(e.mainDoubleElim)===JSON.stringify(n.mainDoubleElim)&&JSON.stringify(e.consolationBracket)===JSON.stringify(n.consolationBracket)&&JSON.stringify(e.consolationDoubleElim)===JSON.stringify(n.consolationDoubleElim)}function En(e){const n=e.groupStagePlayoffs??e.groupStageBrackets;return n||null}function z(e,n){return e?n&&e.mainDoubleElim?ae(e.mainDoubleElim):e.mainBracket?se(e.mainBracket):null:null}function Ge(e,n){return e?n?!!e.mainDoubleElim||!!e.consolationDoubleElim:!!e.mainBracket||!!e.consolationBracket:!1}function Mn(e,n){return e?n?Ae(e.mainDoubleElim)||Ae(e.consolationDoubleElim):ye(e.mainBracket)||ye(e.consolationBracket):!1}const Rn=()=>{const{tournament:e,updateTournament:n}=Et(),{t:r}=N(),[s,a]=g.useState(null),[l,i]=g.useState({}),[o,d]=g.useState("tournament"),c=e?.groupStage,u=g.useMemo(()=>e?.players??[],[e?.players]),m=e?En(e):null,x=e?.scoringMode??T.SETS,f=e?.groupStageMaxSets??e?.maxSets??Y,p=e?.bracketMaxSets??e?.maxSets??Y,b=(m?.bracketType??c?.settings.bracketType??we.SINGLE_ELIM)===we.DOUBLE_ELIM,S=Nn(c,u,x,f),M=Sn(c),y=kn(M,c,u,x,f),k=In(y),C=wn(y,c),H=g.useMemo(()=>e?e.winnerId?e.winnerId:z(m,b):null,[m,e,b]),P=g.useMemo(()=>H?u.find(j=>j.id===H):null,[u,H]);g.useEffect(()=>{if(!M||!y||!c||Ge(m,b)&&Mn(m,b))return;const w=Me(c,u,{scoringMode:x,maxSets:f});if(Tn(m,w))return;const E=z(w,b);n(L=>({...L,groupStagePlayoffs:w,winnerId:E??null,completedAt:E?new Date().toISOString():null}))},[y,M,c,m,u,x,f,n,b,e]);const B=g.useMemo(()=>{if(!s||!c)return null;if(s.type==="group"&&s.groupId)return jn(c,s.groupId,s.matchId);if(s.type==="mainBracket"||s.type==="consolationBracket"){const j=m?.[s.type];return yn(j,s.matchId)}if(s.type==="mainDoubleElim"||s.type==="consolationDoubleElim"){const j=m?.[s.type];return vn(j,s.matchId)}return null},[s,c,m]),G=g.useMemo(()=>{if(!s||!c)return u;if(s.type==="group"){const j=c.groups.find(v=>v.id===s.groupId);return j?ze(j,u):u}return u},[s,c,u]),X=g.useMemo(()=>{if(o!=="results")return[];let j=[],v=[];return m&&(b&&m.mainDoubleElim?j=ge(m.mainDoubleElim,u):m.mainBracket&&(j=be(m.mainBracket,u)),b&&m.consolationDoubleElim?v=We(ge(m.consolationDoubleElim,u),j.length):m.consolationBracket&&(v=We(be(m.consolationBracket,u),j.length))),Ie([...j,...v])},[o,m,u,b]);function pe(j,v,w,E=!1){if(!c)return;const L=structuredClone(c);for(const U of L.groups)for(const xt of U.schedule.rounds){const ee=xt.matches.find(pt=>pt.id===j);if(ee){ee.winnerId=v,ee.scores=w,ee.walkover=E;break}}let D=m;const $=m&&Ge(m,b);Ve(L)&&!$&&(D=Me(L,u,{scoringMode:x,maxSets:f}));const _=z(D,b);n(U=>({...U,groupStage:L,groupStagePlayoffs:D,winnerId:_??null,completedAt:_?new Date().toISOString():null})),a(null)}function Z(j,v,w,E,L=!1){if(!m||!c)return;const D=structuredClone(m),$=D[E];if(!$)return;D[E]=v?_e($,j,v,w,L):Ue($,j);const _=z(D,b);n(U=>({...U,groupStage:c,groupStagePlayoffs:D,winnerId:_??null,completedAt:_?new Date().toISOString():null})),a(null)}function W(j,v,w,E,L=!1){if(!m||!c)return;const D=structuredClone(m),$=D[E];if(!$)return;D[E]=v?qe($,j,v,w,L):Ke($,j);const _=z(D,b);n(U=>({...U,groupStage:c,groupStagePlayoffs:D,winnerId:_??null,completedAt:_?new Date().toISOString():null})),a(null)}function ct(j,v,w,E){if(s)switch(s.type){case"group":{pe(j,v,w,E);break}case"mainBracket":{Z(j,v,w,"mainBracket",E);break}case"consolationBracket":{Z(j,v,w,"consolationBracket",E);break}case"mainDoubleElim":{W(j,v,w,"mainDoubleElim",E);break}case"consolationDoubleElim":{W(j,v,w,"consolationDoubleElim",E);break}}}function dt(j,v){i(w=>({...w,[j]:v}))}function ut(j,v){a({type:"group",groupId:j,matchId:v})}const mt=[{id:"tournament",label:r("tabs.tournament")},{id:"results",label:r("tabs.results")}];return!e||!c?null:t.jsxs("div",{className:"space-y-8",children:[P&&t.jsx(ce,{label:r("bracket.winner",{name:P.name})}),t.jsx(Q,{tabs:mt,activeId:o,onChange:d}),o==="results"?t.jsx(xe,{results:X}):t.jsxs(t.Fragment,{children:[t.jsx(hn,{groupStage:c,players:u,standingsByGroup:S,wildCardIds:k,groupTabs:l,onGroupTabChange:dt,onEditMatch:ut,scoringMode:x,maxSets:f}),y&&t.jsx(pn,{qualifiers:y.main,luckyLosers:y.luckyLosers,luckyCandidates:y.luckyCandidates,groups:c.groups,bracketTargetSize:y.bracketTargetSize,scoringMode:x}),t.jsx(bn,{playoffs:m,isDoubleElim:b,players:u,wildCardIds:k,groupPlacementByPlayerId:C,scoringMode:x,maxSets:p,onEditMainBracketMatch:j=>{a({type:"mainBracket",matchId:j.id})},onEditConsolationBracketMatch:j=>{a({type:"consolationBracket",matchId:j.id})},onEditMainDoubleElimMatch:j=>{a({type:"mainDoubleElim",matchId:j})},onEditConsolationDoubleElimMatch:j=>{a({type:"consolationDoubleElim",matchId:j})}}),t.jsx(gn,{editing:s,activeMatch:B,activePlayers:G,scoringMode:x,groupStageMaxSets:f,bracketMaxSets:p,onSave:ct,onClose:()=>{a(null)}})]})]})},Dn=()=>{const{tournament:e,isLoading:n}=le(),{t:r}=N(),s=ht(),{tracker:a}=bt();return g.useEffect(()=>{a.trackPageView({})},[s,a]),gt(e?e.name:r("tournament.notFoundTitle")),n?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-[var(--color-muted)]",children:r("tournament.loading")})}):e?t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(V,{to:"/",className:"text-sm text-[var(--color-primary)] hover:text-[var(--color-primary-dark)]",children:r("tournament.back")}),t.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text)] mt-2",children:e.name}),t.jsxs("p",{className:"text-sm text-[var(--color-muted)]",children:[r(`format.${e.format}`)," "," ",r("tournament.players",{count:e.players.length})]})]}),t.jsx(an,{}),e.format===O.SINGLE_ELIM&&t.jsx(_t,{}),e.format===O.ROUND_ROBIN&&t.jsx(sn,{}),e.format===O.DOUBLE_ELIM&&t.jsx(Ut,{}),e.format===O.GROUPS_TO_BRACKET&&t.jsx(Rn,{})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center px-4",children:[t.jsx(It,{className:"h-12 w-12 text-[var(--color-muted)] mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-[var(--color-text)] mb-2",children:r("tournament.notFoundTitle")}),t.jsx("p",{className:"text-[var(--color-muted)] mb-6 max-w-md",children:r("tournament.notFoundDesc")}),t.jsxs("div",{className:"flex gap-3 flex-wrap justify-center",children:[t.jsx(ne,{asChild:!0,children:t.jsx(V,{to:"/create",children:r("home.newTournament")})}),t.jsx(ne,{variant:"primary-outlined",asChild:!0,children:t.jsx(V,{to:"/",children:r("tournament.backHome")})})]})]})},An=()=>{const{id:e}=ft(),{t:n}=N();return e?t.jsx(Tt,{tournamentId:e,children:t.jsx(Dn,{})}):t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center px-4",children:[t.jsx(kt,{className:"h-12 w-12 text-[var(--color-muted)] mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-[var(--color-text)] mb-2",children:n("tournament.notFoundTitle")}),t.jsx("p",{className:"text-[var(--color-muted)] mb-6 max-w-md",children:n("tournament.noIdDesc")}),t.jsxs("div",{className:"flex gap-3 flex-wrap justify-center",children:[t.jsx(ne,{asChild:!0,children:t.jsx(V,{to:"/create",children:n("home.newTournament")})}),t.jsx(ne,{variant:"primary-outlined",asChild:!0,children:t.jsx(V,{to:"/",children:n("tournament.backHome")})})]})]})};export{An as TournamentPage};
